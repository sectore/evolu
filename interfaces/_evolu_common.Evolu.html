<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Evolu | Evolu</title><meta name="description" content="Documentation for Evolu"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">Evolu</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../index.html">Evolu</a></li><li><a href="../modules/_evolu_common.html">@evolu/common</a></li><li><a href="_evolu_common.Evolu.html">Evolu</a></li></ul><h1>Interface Evolu&lt;T&gt;</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>The Evolu interface provides a type-safe SQL query building and state
management defined by a database schema. It leverages Kysely for creating SQL
queries in TypeScript, enabling operations such as data querying, loading,
subscription to data changes, and mutations (create, update, createOrUpdate).
It also includes functionalities for error handling, syncing state
management, and owner data manipulation. Specifically, Evolu allows:</p>
<ul>
<li>Subscribing to and getting errors via subscribeError and getError.</li>
<li>Creating type-safe SQL queries with createQuery, leveraging Kysely's
capabilities.</li>
<li>Loading queries and subscribing to query result changes using loadQuery,
loadQueries, subscribeQuery, and getQuery.</li>
<li>Subscribing to and getting the owner's information and sync state changes.</li>
<li>Performing mutations on the database with create, update, and createOrUpdate
methods, which include automatic management of common columns like
createdAt, updatedAt, and isDeleted.</li>
<li>Managing owner data with resetOwner and restoreOwner.</li>
<li>Ensuring the database schema's integrity with ensureSchema.</li>
</ul>
</div><div class="tsd-comment tsd-typography"></div></section><div class="tsd-signature"><span class="tsd-signature-keyword">interface </span><span class="tsd-kind-interface">Evolu</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#T">T</a><span class="tsd-signature-symbol">&gt;</span> <span class="tsd-signature-symbol">{ </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#create">create</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Mutate</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#T">T</a><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;create&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#createOrUpdate">createOrUpdate</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Mutate</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#T">T</a><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;createOrUpdate&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#createQuery">createQuery</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#createQuery.__type.__type-1.R">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">queryCallback</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../types/_evolu_common.Query.html" class="tsd-signature-type tsd-kind-type-alias">Query</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#createQuery.__type.__type-1.R">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#ensureSchema">ensureSchema</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">schema</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#exportDatabase">exportDatabase</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Uint8Array</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#getError">getError</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../types/_evolu_common.EvoluError.html" class="tsd-signature-type tsd-kind-type-alias">EvoluError</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#getOwner">getOwner</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="_evolu_common.Owner.html" class="tsd-signature-type tsd-kind-interface">Owner</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#getQuery">getQuery</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#getQuery.__type-10.__type-11.R-1">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">query</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="_evolu_common.QueryResult.html" class="tsd-signature-type tsd-kind-interface">QueryResult</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#getQuery.__type-10.__type-11.R-1">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#getSyncState">getSyncState</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../types/_evolu_common.SyncState.html" class="tsd-signature-type tsd-kind-type-alias">SyncState</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#loadQueries">loadQueries</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQueries.__type-14.__type-15.R-2">R</a><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQueries.__type-14.__type-15.Q">Q</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">queries</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-symbol">...</span><a href="../types/_evolu_common.QueryResultsPromisesFromQueries.html" class="tsd-signature-type tsd-kind-type-alias">QueryResultsPromisesFromQueries</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQueries.__type-14.__type-15.Q">Q</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#loadQuery">loadQuery</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQuery.__type-16.__type-17.R-3">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">query</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="_evolu_common.QueryResult.html" class="tsd-signature-type tsd-kind-interface">QueryResult</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQuery.__type-16.__type-17.R-3">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#resetOwner">resetOwner</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#restoreOwner">restoreOwner</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">mnemonic</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#subscribeError">subscribeError</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">listener</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#subscribeOwner">subscribeOwner</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">listener</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#subscribeQuery">subscribeQuery</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">query</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">listener</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#subscribeSyncState">subscribeSyncState</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">listener</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="_evolu_common.Evolu.html#update">update</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Mutate</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#T">T</a><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;update&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></div> <section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="T" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">T</span><span class="tsd-signature-keyword"> extends </span><a href="../types/_evolu_common.EvoluSchema.html" class="tsd-signature-type tsd-kind-type-alias">EvoluSchema</a> = <a href="../types/_evolu_common.EvoluSchema.html" class="tsd-signature-type tsd-kind-type-alias">EvoluSchema</a></span></li></ul></section> <aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L68">packages/evolu-common/src/Evolu.ts:68</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-index-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex="0"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-chevronSmall"></use></svg> Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="_evolu_common.Evolu.html#create" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>create</span></a>
<a href="_evolu_common.Evolu.html#createOrUpdate" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>create<wbr/>Or<wbr/>Update</span></a>
<a href="_evolu_common.Evolu.html#createQuery" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>create<wbr/>Query</span></a>
<a href="_evolu_common.Evolu.html#ensureSchema" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>ensure<wbr/>Schema</span></a>
<a href="_evolu_common.Evolu.html#exportDatabase" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>export<wbr/>Database</span></a>
<a href="_evolu_common.Evolu.html#getError" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>get<wbr/>Error</span></a>
<a href="_evolu_common.Evolu.html#getOwner" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>get<wbr/>Owner</span></a>
<a href="_evolu_common.Evolu.html#getQuery" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>get<wbr/>Query</span></a>
<a href="_evolu_common.Evolu.html#getSyncState" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>get<wbr/>Sync<wbr/>State</span></a>
<a href="_evolu_common.Evolu.html#loadQueries" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>load<wbr/>Queries</span></a>
<a href="_evolu_common.Evolu.html#loadQuery" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>load<wbr/>Query</span></a>
<a href="_evolu_common.Evolu.html#resetOwner" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>reset<wbr/>Owner</span></a>
<a href="_evolu_common.Evolu.html#restoreOwner" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>restore<wbr/>Owner</span></a>
<a href="_evolu_common.Evolu.html#subscribeError" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>subscribe<wbr/>Error</span></a>
<a href="_evolu_common.Evolu.html#subscribeOwner" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>subscribe<wbr/>Owner</span></a>
<a href="_evolu_common.Evolu.html#subscribeQuery" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>subscribe<wbr/>Query</span></a>
<a href="_evolu_common.Evolu.html#subscribeSyncState" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>subscribe<wbr/>Sync<wbr/>State</span></a>
<a href="_evolu_common.Evolu.html#update" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>update</span></a>
</div></section></div></details></section></section><section class="tsd-panel-group tsd-member-group"><h2>Properties</h2><section class="tsd-panel tsd-member"><a id="create" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>create</span><a href="#create" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">create</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Mutate</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#T">T</a><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;create&quot;</span><span class="tsd-signature-symbol">&gt;</span></div><div class="tsd-comment tsd-typography"><p>Create a row in the database and returns a new ID. The first argument is
the table name, and the second is an object.</p>
<p>The third optional argument, the onComplete callback, is generally
unnecessary because creating a row cannot fail. Still, UI libraries can use
it to ensure the DOM is updated if we want to manipulate it, for example,
to focus an element.</p>
<p>Evolu does not use SQL for mutations to ensure data can be safely and
predictably merged without conflicts.</p>
<p>Explicit mutations also allow Evolu to automatically add and update a few
useful columns common to all tables. Those columns are: <code>createdAt</code>,
<code>updatedAt</code>, and <code>isDeleted</code>.</p>
</div><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-3">*</span><span class="hl-1"> </span><span class="hl-2">as</span><span class="hl-1"> </span><span class="hl-0">S</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-4">&quot;@effect/schema/Schema&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Evolu uses the Schema to enforce domain model.</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">title</span><span class="hl-1"> = </span><span class="hl-6">S</span><span class="hl-1">.</span><span class="hl-7">decodeSync</span><span class="hl-1">(</span><span class="hl-0">Evolu</span><span class="hl-1">.</span><span class="hl-0">NonEmptyString1000</span><span class="hl-1">)(</span><span class="hl-4">&quot;A title&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-6">id</span><span class="hl-1"> } = </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">create</span><span class="hl-1">(</span><span class="hl-4">&quot;todo&quot;</span><span class="hl-1">, { </span><span class="hl-0">title</span><span class="hl-1"> }, () </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">// onComplete callback</span><br/><span class="hl-1">  });</span>
</code><button>Copy</button></pre>

</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L268">packages/evolu-common/src/Evolu.ts:268</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="createOrUpdate" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>create<wbr/>Or<wbr/>Update</span><a href="#createOrUpdate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">create<wbr/>Or<wbr/>Update</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Mutate</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#T">T</a><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;createOrUpdate&quot;</span><span class="tsd-signature-symbol">&gt;</span></div><div class="tsd-comment tsd-typography"><p>Create or update a row in the database and return the existing ID. The
first argument is the table name, and the second is an object.</p>
<p>This function is useful when we already have an <code>id</code> and want to create a
new row or update an existing one.</p>
<p>The third optional argument, the onComplete callback, is generally
unnecessary because updating a row cannot fail. Still, UI libraries can use
it to ensure the DOM is updated if we want to manipulate it, for example,
to focus an element.</p>
<p>Evolu does not use SQL for mutations to ensure data can be safely and
predictably merged without conflicts.</p>
<p>Explicit mutations also allow Evolu to automatically add and update a few
useful columns common to all tables. Those columns are: <code>createdAt</code>,
<code>updatedAt</code>, and <code>isDeleted</code>.</p>
</div><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-3">*</span><span class="hl-1"> </span><span class="hl-2">as</span><span class="hl-1"> </span><span class="hl-0">S</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-4">&quot;@effect/schema/Schema&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">Id</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-4">&quot;@evolu/react&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Id can be stable.</span><br/><span class="hl-1">  </span><span class="hl-5">// 2024-02-0800000000000</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">id</span><span class="hl-1"> = </span><span class="hl-6">S</span><span class="hl-1">.</span><span class="hl-7">decodeSync</span><span class="hl-1">(</span><span class="hl-0">Id</span><span class="hl-1">)(</span><span class="hl-0">date</span><span class="hl-1">.</span><span class="hl-7">toString</span><span class="hl-1">().</span><span class="hl-7">padEnd</span><span class="hl-1">(</span><span class="hl-9">21</span><span class="hl-1">, </span><span class="hl-4">&quot;0&quot;</span><span class="hl-1">)) </span><span class="hl-2">as</span><span class="hl-1"> </span><span class="hl-8">TodoId</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">createOrUpdate</span><span class="hl-1">(</span><span class="hl-4">&quot;todo&quot;</span><span class="hl-1">, { </span><span class="hl-0">id</span><span class="hl-1">, </span><span class="hl-0">title</span><span class="hl-1"> });</span>
</code><button>Copy</button></pre>

</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L327">packages/evolu-common/src/Evolu.ts:327</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="createQuery" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagReadonly">Readonly</code> <span>create<wbr/>Query</span><a href="#createQuery" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">create<wbr/>Query</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#createQuery.__type.__type-1.R">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">queryCallback</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../types/_evolu_common.Query.html" class="tsd-signature-type tsd-kind-type-alias">Query</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#createQuery.__type.__type-1.R">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></div><div class="tsd-comment tsd-typography"><p>Create type-safe SQL <a href="../types/_evolu_common.Query.html" class="tsd-kind-type-alias">Query</a>.</p>
<p>Evolu uses Kysely - the type-safe SQL query builder for TypeScript. See
<a href="https://kysely.dev">https://kysely.dev</a>.</p>
<p>For mutations, use <a href="_evolu_common.Evolu.html#create" class="tsd-kind-property">create</a> and <a href="_evolu_common.Evolu.html#update" class="tsd-kind-property">update</a>.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="createQuery.__type.__type-1"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#createQuery.__type.__type-1.R">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">queryCallback</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../types/_evolu_common.Query.html" class="tsd-signature-type tsd-kind-type-alias">Query</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#createQuery.__type.__type-1.R">R</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="createQuery.__type.__type-1.R" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">R</span><span class="tsd-signature-keyword"> extends </span><a href="../types/_evolu_common.Row.html" class="tsd-signature-type tsd-kind-type-alias">Row</a></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">queryCallback</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">db</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">SelectQueryBuilder</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#createQuery.__type.__type-1.R">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">db</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">SelectQueryBuilder</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#createQuery.__type.__type-1.R">R</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">db</span>: <span class="tsd-signature-type">Pick</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Kysely</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{</span><br/><span>    </span><span class="tsd-signature-symbol">[</span><span class="tsd-kind-type-parameter">Table</span><span class="tsd-signature-keyword"> in </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">NullableExceptIdCreatedAtUpdatedAt</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{</span><br/><span>        </span><span class="tsd-signature-symbol">[</span><span class="tsd-kind-type-parameter">Column</span><span class="tsd-signature-keyword"> in </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">symbol</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">: </span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#T">T</a><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type tsd-kind-type-parameter">Table</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type tsd-kind-type-parameter">Column</span><span class="tsd-signature-symbol">]</span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;with&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;selectFrom&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;fn&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;withRecursive&quot;</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">SelectQueryBuilder</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#createQuery.__type.__type-1.R">R</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">options</span>: <a href="_evolu_common.SqliteQueryOptions.html" class="tsd-signature-type tsd-kind-interface">SqliteQueryOptions</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../types/_evolu_common.Query.html" class="tsd-signature-type tsd-kind-type-alias">Query</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#createQuery.__type.__type-1.R">R</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></div><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">allTodos</span><span class="hl-1"> = </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">createQuery</span><span class="hl-1">((</span><span class="hl-0">db</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-7">selectFrom</span><span class="hl-1">(</span><span class="hl-4">&quot;todo&quot;</span><span class="hl-1">).</span><span class="hl-7">selectAll</span><span class="hl-1">(),</span><br/><span class="hl-1">  );</span><br/><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-7">todoById</span><span class="hl-1"> = (</span><span class="hl-0">id</span><span class="hl-1">: </span><span class="hl-8">TodoId</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">createQuery</span><span class="hl-1">((</span><span class="hl-0">db</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><br/><span class="hl-1">      </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-7">selectFrom</span><span class="hl-1">(</span><span class="hl-4">&quot;todo&quot;</span><span class="hl-1">).</span><span class="hl-7">selectAll</span><span class="hl-1">().</span><span class="hl-7">where</span><span class="hl-1">(</span><span class="hl-4">&quot;id&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;=&quot;</span><span class="hl-1">, </span><span class="hl-0">id</span><span class="hl-1">),</span><br/><span class="hl-1">    );</span>
</code><button>Copy</button></pre>

</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L101">packages/evolu-common/src/Evolu.ts:101</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="ensureSchema" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagReadonly">Readonly</code> <span>ensure<wbr/>Schema</span><a href="#ensureSchema" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">ensure<wbr/>Schema</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">schema</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></div><div class="tsd-comment tsd-typography"><p>Ensure tables and columns defined in <a href="../types/_evolu_common.EvoluSchema.html" class="tsd-kind-type-alias">EvoluSchema</a> exist in the
database.</p>
<p>This function is for hot/live reloading.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="ensureSchema.__type-2.__type-3"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">schema</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">schema</span>: <a href="_evolu_common.DbSchema.html" class="tsd-signature-type tsd-kind-interface">DbSchema</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L345">packages/evolu-common/src/Evolu.ts:345</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="exportDatabase" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagReadonly">Readonly</code> <span>export<wbr/>Database</span><a href="#exportDatabase" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">export<wbr/>Database</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Uint8Array</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></div><div class="tsd-comment tsd-typography"><p>Export SQLite database as Uint8Array.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="exportDatabase.__type-4.__type-5"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Uint8Array</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Uint8Array</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L348">packages/evolu-common/src/Evolu.ts:348</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="getError" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagReadonly">Readonly</code> <span>get<wbr/>Error</span><a href="#getError" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">get<wbr/>Error</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../types/_evolu_common.EvoluError.html" class="tsd-signature-type tsd-kind-type-alias">EvoluError</a><span class="tsd-signature-symbol">)</span></div><div class="tsd-comment tsd-typography"><p>Get <a href="../types/_evolu_common.EvoluError.html" class="tsd-kind-type-alias">EvoluError</a>.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="getError.__type-6.__type-7"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../types/_evolu_common.EvoluError.html" class="tsd-signature-type tsd-kind-type-alias">EvoluError</a></li><li class="tsd-description"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../types/_evolu_common.EvoluError.html" class="tsd-signature-type tsd-kind-type-alias">EvoluError</a></h4></li></ul></li></ul></div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L81">packages/evolu-common/src/Evolu.ts:81</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="getOwner" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagReadonly">Readonly</code> <span>get<wbr/>Owner</span><a href="#getOwner" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">get<wbr/>Owner</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="_evolu_common.Owner.html" class="tsd-signature-type tsd-kind-interface">Owner</a><span class="tsd-signature-symbol">)</span></div><div class="tsd-comment tsd-typography"><p>Get <a href="_evolu_common.Owner.html" class="tsd-kind-interface">Owner</a>.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="getOwner.__type-8.__type-9"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="_evolu_common.Owner.html" class="tsd-signature-type tsd-kind-interface">Owner</a></li><li class="tsd-description"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="_evolu_common.Owner.html" class="tsd-signature-type tsd-kind-interface">Owner</a></h4></li></ul></li></ul></div><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">unsubscribe</span><span class="hl-1"> = </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">subscribeOwner</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">owner</span><span class="hl-1"> = </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">getOwner</span><span class="hl-1">();</span><br/><span class="hl-1">  });</span>
</code><button>Copy</button></pre>

</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L220">packages/evolu-common/src/Evolu.ts:220</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="getQuery" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagReadonly">Readonly</code> <span>get<wbr/>Query</span><a href="#getQuery" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">get<wbr/>Query</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#getQuery.__type-10.__type-11.R-1">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">query</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="_evolu_common.QueryResult.html" class="tsd-signature-type tsd-kind-interface">QueryResult</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#getQuery.__type-10.__type-11.R-1">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></div><div class="tsd-comment tsd-typography"><p>Get <a href="../types/_evolu_common.Query.html" class="tsd-kind-type-alias">Query</a> <a href="_evolu_common.QueryResult.html" class="tsd-kind-interface">QueryResult</a>.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="getQuery.__type-10.__type-11"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#getQuery.__type-10.__type-11.R-1">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">query</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="_evolu_common.QueryResult.html" class="tsd-signature-type tsd-kind-interface">QueryResult</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#getQuery.__type-10.__type-11.R-1">R</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="getQuery.__type-10.__type-11.R-1" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">R</span><span class="tsd-signature-keyword"> extends </span><a href="../types/_evolu_common.Row.html" class="tsd-signature-type tsd-kind-type-alias">Row</a></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">query</span>: <a href="../types/_evolu_common.Query.html" class="tsd-signature-type tsd-kind-type-alias">Query</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#getQuery.__type-10.__type-11.R-1">R</a><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="_evolu_common.QueryResult.html" class="tsd-signature-type tsd-kind-interface">QueryResult</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#getQuery.__type-10.__type-11.R-1">R</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></div><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">unsubscribe</span><span class="hl-1"> = </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">subscribeQuery</span><span class="hl-1">(</span><span class="hl-0">allTodos</span><span class="hl-1">)(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-6">rows</span><span class="hl-1"> } = </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">getQuery</span><span class="hl-1">(</span><span class="hl-0">allTodos</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span>
</code><button>Copy</button></pre>

</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L200">packages/evolu-common/src/Evolu.ts:200</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="getSyncState" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagReadonly">Readonly</code> <span>get<wbr/>Sync<wbr/>State</span><a href="#getSyncState" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">get<wbr/>Sync<wbr/>State</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../types/_evolu_common.SyncState.html" class="tsd-signature-type tsd-kind-type-alias">SyncState</a><span class="tsd-signature-symbol">)</span></div><div class="tsd-comment tsd-typography"><p>Get <a href="../types/_evolu_common.SyncState.html" class="tsd-kind-type-alias">SyncState</a>.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="getSyncState.__type-12.__type-13"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../types/_evolu_common.SyncState.html" class="tsd-signature-type tsd-kind-type-alias">SyncState</a></li><li class="tsd-description"><h4 class="tsd-returns-title">Returns <a href="../types/_evolu_common.SyncState.html" class="tsd-signature-type tsd-kind-type-alias">SyncState</a></h4></li></ul></li></ul></div><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">unsubscribe</span><span class="hl-1"> = </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">subscribeSyncState</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">syncState</span><span class="hl-1"> = </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">getSyncState</span><span class="hl-1">();</span><br/><span class="hl-1">  });</span>
</code><button>Copy</button></pre>

</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L240">packages/evolu-common/src/Evolu.ts:240</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="loadQueries" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagReadonly">Readonly</code> <span>load<wbr/>Queries</span><a href="#loadQueries" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">load<wbr/>Queries</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQueries.__type-14.__type-15.R-2">R</a><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQueries.__type-14.__type-15.Q">Q</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">queries</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-symbol">...</span><a href="../types/_evolu_common.QueryResultsPromisesFromQueries.html" class="tsd-signature-type tsd-kind-type-alias">QueryResultsPromisesFromQueries</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQueries.__type-14.__type-15.Q">Q</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">)</span></div><div class="tsd-comment tsd-typography"><p>Load an array of <a href="../types/_evolu_common.Query.html" class="tsd-kind-type-alias">Query</a> queries and return an array of
<a href="_evolu_common.QueryResult.html" class="tsd-kind-interface">QueryResult</a> promises. It's like <code>queries.map(loadQuery)</code> but with
proper types for returned promises.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="loadQueries.__type-14.__type-15"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQueries.__type-14.__type-15.R-2">R</a><span class="tsd-signature-symbol">, </span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQueries.__type-14.__type-15.Q">Q</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">queries</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-symbol">...</span><a href="../types/_evolu_common.QueryResultsPromisesFromQueries.html" class="tsd-signature-type tsd-kind-type-alias">QueryResultsPromisesFromQueries</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQueries.__type-14.__type-15.Q">Q</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">]</span></li><li class="tsd-description"><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="loadQueries.__type-14.__type-15.R-2" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">R</span><span class="tsd-signature-keyword"> extends </span><a href="../types/_evolu_common.Row.html" class="tsd-signature-type tsd-kind-type-alias">Row</a></span></li><li><span><a id="loadQueries.__type-14.__type-15.Q" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">Q</span><span class="tsd-signature-keyword"> extends </span><a href="../types/_evolu_common.Queries.html" class="tsd-signature-type tsd-kind-type-alias">Queries</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQueries.__type-14.__type-15.R-2">R</a><span class="tsd-signature-symbol">&gt;</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">queries</span>: <span class="tsd-signature-symbol">[</span><span class="tsd-signature-symbol">...</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQueries.__type-14.__type-15.Q">Q</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">]</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">[</span><span class="tsd-signature-symbol">...</span><a href="../types/_evolu_common.QueryResultsPromisesFromQueries.html" class="tsd-signature-type tsd-kind-type-alias">QueryResultsPromisesFromQueries</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQueries.__type-14.__type-15.Q">Q</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">]</span></h4></li></ul></li></ul></div><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="ts"><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">loadQueries</span><span class="hl-1">([</span><span class="hl-0">allTodos</span><span class="hl-1">, </span><span class="hl-7">todoById</span><span class="hl-1">(</span><span class="hl-9">1</span><span class="hl-1">)]);</span>
</code><button>Copy</button></pre>

</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L176">packages/evolu-common/src/Evolu.ts:176</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="loadQuery" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagReadonly">Readonly</code> <span>load<wbr/>Query</span><a href="#loadQuery" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">load<wbr/>Query</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQuery.__type-16.__type-17.R-3">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">query</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="_evolu_common.QueryResult.html" class="tsd-signature-type tsd-kind-interface">QueryResult</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQuery.__type-16.__type-17.R-3">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></div><div class="tsd-comment tsd-typography"><p>Load <a href="../types/_evolu_common.Query.html" class="tsd-kind-type-alias">Query</a> and return a promise with <a href="_evolu_common.QueryResult.html" class="tsd-kind-interface">QueryResult</a>.</p>
<p>A returned promise always resolves successfully because there is no reason
why loading should fail. All data are local, and the query is typed. A
serious unexpected Evolu error shall be handled with
<a href="_evolu_common.Evolu.html#subscribeError" class="tsd-kind-property">subscribeError</a>.</p>
<p>Loading is batched, and returned promises are cached, so there is no need
for an additional cache. Evolu's internal cache is invalidated on
mutation.</p>
<p>The returned promise is enriched with special status and value properties
for the upcoming React <code>use</code> Hook, but other UI libraries can also leverage
them. Speaking of React, there are two essential React Suspense-related
patterns that every developer should be aware of—passing promises to
children and caching over mutations.</p>
<p>With promises passed to children, we can load a query as soon as possible,
but we don't have to use the returned promise immediately. That's useful
for prefetching, which is generally not necessary for local-first apps but
can be if a query takes a long time to load.</p>
<p>Caching over mutation is a pattern that every developer should know. As we
said, Evolu caches promise until a mutation happens. A query loaded after
that will return a new pending promise. That's okay for general usage but
not for UI with React Suspense because a mutation would suspend rerendered
queries on a page, and that's not a good UX.</p>
<p>We call this pattern &quot;caching over mutation&quot; because it has no globally
accepted name yet. React RFC for React Cache does not exist yet.</p>
<p>For better UX, a query must be subscribed for updates. This way, instead of
Suspense flashes, the user sees new data immediately because Evolu replaces
cached promises with fresh, already resolved new ones.</p>
<p>If you are curious why Evolu does not do that for all queries by default,
the answer is simple: performance. Tracking changes is costly and
meaningful only for visible (hence subscribed) queries anyway. To subscribe
to a query, use <a href="_evolu_common.Evolu.html#subscribeQuery" class="tsd-kind-property">subscribeQuery</a>.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="loadQuery.__type-16.__type-17"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQuery.__type-16.__type-17.R-3">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">query</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="_evolu_common.QueryResult.html" class="tsd-signature-type tsd-kind-interface">QueryResult</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQuery.__type-16.__type-17.R-3">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="loadQuery.__type-16.__type-17.R-3" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">R</span><span class="tsd-signature-keyword"> extends </span><a href="../types/_evolu_common.Row.html" class="tsd-signature-type tsd-kind-type-alias">Row</a></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">query</span>: <a href="../types/_evolu_common.Query.html" class="tsd-signature-type tsd-kind-type-alias">Query</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQuery.__type-16.__type-17.R-3">R</a><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="_evolu_common.QueryResult.html" class="tsd-signature-type tsd-kind-interface">QueryResult</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#loadQuery.__type-16.__type-17.R-3">R</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></div><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">allTodos</span><span class="hl-1"> = </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">createQuery</span><span class="hl-1">((</span><span class="hl-0">db</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">db</span><span class="hl-1">.</span><span class="hl-7">selectFrom</span><span class="hl-1">(</span><span class="hl-4">&quot;todo&quot;</span><span class="hl-1">).</span><span class="hl-7">selectAll</span><span class="hl-1">(),</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">  </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">loadQuery</span><span class="hl-1">(</span><span class="hl-0">allTodos</span><span class="hl-1">).</span><span class="hl-7">then</span><span class="hl-1">(({ </span><span class="hl-0">rows</span><span class="hl-1"> }) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">rows</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span>
</code><button>Copy</button></pre>

</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L164">packages/evolu-common/src/Evolu.ts:164</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="resetOwner" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagReadonly">Readonly</code> <span>reset<wbr/>Owner</span><a href="#resetOwner" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">reset<wbr/>Owner</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></div><div class="tsd-comment tsd-typography"><p>Delete <a href="_evolu_common.Owner.html" class="tsd-kind-interface">Owner</a> and all their data from the current device. After the
deletion, Evolu will purge the application state. For browsers, this will
reload all tabs using Evolu. For native apps, it will restart the app.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="resetOwner.__type-18.__type-19"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L334">packages/evolu-common/src/Evolu.ts:334</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="restoreOwner" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagReadonly">Readonly</code> <span>restore<wbr/>Owner</span><a href="#restoreOwner" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">restore<wbr/>Owner</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">mnemonic</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></div><div class="tsd-comment tsd-typography"><p>Restore <a href="_evolu_common.Owner.html" class="tsd-kind-interface">Owner</a> with all their synced data.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="restoreOwner.__type-20.__type-21"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">mnemonic</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">mnemonic</span>: <a href="../types/_evolu_common.Mnemonic.html" class="tsd-signature-type tsd-kind-type-alias">Mnemonic</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L337">packages/evolu-common/src/Evolu.ts:337</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="subscribeError" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagReadonly">Readonly</code> <span>subscribe<wbr/>Error</span><a href="#subscribeError" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">subscribe<wbr/>Error</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">listener</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a><span class="tsd-signature-symbol">)</span></div><div class="tsd-comment tsd-typography"><p>Subscribe to <a href="../types/_evolu_common.EvoluError.html" class="tsd-kind-type-alias">EvoluError</a> changes.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="subscribeError.__type-22.__type-23"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">listener</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">listener</span>: <a href="../types/_evolu_common.Listener.html" class="tsd-signature-type tsd-kind-type-alias">Listener</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a></h4></li></ul></li></ul></div><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">unsubscribe</span><span class="hl-1"> = </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">subscribeError</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">error</span><span class="hl-1"> = </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">getError</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span>
</code><button>Copy</button></pre>

</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L78">packages/evolu-common/src/Evolu.ts:78</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="subscribeOwner" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagReadonly">Readonly</code> <span>subscribe<wbr/>Owner</span><a href="#subscribeOwner" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">subscribe<wbr/>Owner</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">listener</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a><span class="tsd-signature-symbol">)</span></div><div class="tsd-comment tsd-typography"><p>Subscribe to <a href="_evolu_common.Owner.html" class="tsd-kind-interface">Owner</a> changes.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="subscribeOwner.__type-24.__type-25"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">listener</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">listener</span>: <a href="../types/_evolu_common.Listener.html" class="tsd-signature-type tsd-kind-type-alias">Listener</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a></h4></li></ul></li></ul></div><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">unsubscribe</span><span class="hl-1"> = </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">subscribeOwner</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">owner</span><span class="hl-1"> = </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">getOwner</span><span class="hl-1">();</span><br/><span class="hl-1">  });</span>
</code><button>Copy</button></pre>

</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L210">packages/evolu-common/src/Evolu.ts:210</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="subscribeQuery" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagReadonly">Readonly</code> <span>subscribe<wbr/>Query</span><a href="#subscribeQuery" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">subscribe<wbr/>Query</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">query</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">listener</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">)</span></div><div class="tsd-comment tsd-typography"><p>Subscribe to <a href="../types/_evolu_common.Query.html" class="tsd-kind-type-alias">Query</a> <a href="_evolu_common.QueryResult.html" class="tsd-kind-interface">QueryResult</a> changes.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="subscribeQuery.__type-26.__type-27"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">query</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">listener</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a><span class="tsd-signature-symbol">)</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">query</span>: <a href="../types/_evolu_common.Query.html" class="tsd-signature-type tsd-kind-type-alias">Query</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">listener</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a><span class="tsd-signature-symbol">)</span></h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="subscribeQuery.__type-26.__type-27.__type-28.__type-29"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">listener</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">listener</span>: <a href="../types/_evolu_common.Listener.html" class="tsd-signature-type tsd-kind-type-alias">Listener</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a></h4></li></ul></li></ul></li></ul></li></ul></div><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">unsubscribe</span><span class="hl-1"> = </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">subscribeQuery</span><span class="hl-1">(</span><span class="hl-0">allTodos</span><span class="hl-1">)(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-6">rows</span><span class="hl-1"> } = </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">getQuery</span><span class="hl-1">(</span><span class="hl-0">allTodos</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span>
</code><button>Copy</button></pre>

</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L188">packages/evolu-common/src/Evolu.ts:188</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="subscribeSyncState" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagReadonly">Readonly</code> <span>subscribe<wbr/>Sync<wbr/>State</span><a href="#subscribeSyncState" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">subscribe<wbr/>Sync<wbr/>State</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">listener</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a><span class="tsd-signature-symbol">)</span></div><div class="tsd-comment tsd-typography"><p>Subscribe to <a href="../types/_evolu_common.SyncState.html" class="tsd-kind-type-alias">SyncState</a> changes.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="subscribeSyncState.__type-30.__type-31"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">listener</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">listener</span>: <a href="../types/_evolu_common.Listener.html" class="tsd-signature-type tsd-kind-type-alias">Listener</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../types/_evolu_common.Unsubscribe.html" class="tsd-signature-type tsd-kind-type-alias">Unsubscribe</a></h4></li></ul></li></ul></div><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">unsubscribe</span><span class="hl-1"> = </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">subscribeSyncState</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">syncState</span><span class="hl-1"> = </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">getSyncState</span><span class="hl-1">();</span><br/><span class="hl-1">  });</span>
</code><button>Copy</button></pre>

</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L230">packages/evolu-common/src/Evolu.ts:230</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="update" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>update</span><a href="#update" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">update</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Mutate</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="_evolu_common.Evolu.html#T">T</a><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;update&quot;</span><span class="tsd-signature-symbol">&gt;</span></div><div class="tsd-comment tsd-typography"><p>Update a row in the database and return the existing ID. The first argument
is the table name, and the second is an object.</p>
<p>The third optional argument, the onComplete callback, is generally
unnecessary because updating a row cannot fail. Still, UI libraries can use
it to ensure the DOM is updated if we want to manipulate it, for example,
to focus an element.</p>
<p>Evolu does not use SQL for mutations to ensure data can be safely and
predictably merged without conflicts.</p>
<p>Explicit mutations also allow Evolu to automatically add and update a few
useful columns common to all tables. Those columns are: <code>createdAt</code>,
<code>updatedAt</code>, and <code>isDeleted</code>.</p>
</div><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-3">*</span><span class="hl-1"> </span><span class="hl-2">as</span><span class="hl-1"> </span><span class="hl-0">S</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-4">&quot;@effect/schema/Schema&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Evolu uses the Schema to enforce domain model.</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">title</span><span class="hl-1"> = </span><span class="hl-6">S</span><span class="hl-1">.</span><span class="hl-7">decodeSync</span><span class="hl-1">(</span><span class="hl-0">Evolu</span><span class="hl-1">.</span><span class="hl-0">NonEmptyString1000</span><span class="hl-1">)(</span><span class="hl-4">&quot;A title&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">update</span><span class="hl-1">(</span><span class="hl-4">&quot;todo&quot;</span><span class="hl-1">, { </span><span class="hl-0">id</span><span class="hl-1">, </span><span class="hl-0">title</span><span class="hl-1"> });</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// To delete a row, set `isDeleted` to true.</span><br/><span class="hl-1">  </span><span class="hl-0">evolu</span><span class="hl-1">.</span><span class="hl-7">update</span><span class="hl-1">(</span><span class="hl-4">&quot;todo&quot;</span><span class="hl-1">, { </span><span class="hl-0">id</span><span class="hl-1">, </span><span class="hl-0">isDeleted:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1"> });</span>
</code><button>Copy</button></pre>

</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/sectore/evolu/blob/f0791dba8160e256afadccb52e70fed68414f950/packages/evolu-common/src/Evolu.ts#L296">packages/evolu-common/src/Evolu.ts:296</a></li></ul></aside></section></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#create" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>create</span></a><a href="#createOrUpdate" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>create<wbr/>Or<wbr/>Update</span></a><a href="#createQuery" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>create<wbr/>Query</span></a><a href="#ensureSchema" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>ensure<wbr/>Schema</span></a><a href="#exportDatabase" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>export<wbr/>Database</span></a><a href="#getError" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>get<wbr/>Error</span></a><a href="#getOwner" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>get<wbr/>Owner</span></a><a href="#getQuery" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>get<wbr/>Query</span></a><a href="#getSyncState" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>get<wbr/>Sync<wbr/>State</span></a><a href="#loadQueries" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>load<wbr/>Queries</span></a><a href="#loadQuery" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>load<wbr/>Query</span></a><a href="#resetOwner" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>reset<wbr/>Owner</span></a><a href="#restoreOwner" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>restore<wbr/>Owner</span></a><a href="#subscribeError" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>subscribe<wbr/>Error</span></a><a href="#subscribeOwner" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>subscribe<wbr/>Owner</span></a><a href="#subscribeQuery" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>subscribe<wbr/>Query</span></a><a href="#subscribeSyncState" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>subscribe<wbr/>Sync<wbr/>State</span></a><a href="#update" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>update</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>Evolu</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>